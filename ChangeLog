02 November 2002 W. Michael Petullo <mike@flyn.org>

	* Smbmount now gets its password from the PASSWD environment variable.
	Smbmount reads passwords from /dev/tty over stdin so the pipe method
	does not work.  I'm not sure if ncpmount works.  I wish smbmount and
	ncpmount supported mount's -p0 technique.

01 November 2002 W. Michael Petullo <mike@flyn.org>

	* Pmhelper not installs in ${exec_prefix}/sbin and pam_mount.so
	always goes in /lib/security.

	* Mountehd should now be installed.

	* Dynamically allocated memory in config structure are now freed
	by session close function.

30 October 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed bug in read_options that caused function to fail, logging
	"too many options."

	* Fixed bug causing "options_allow *" to not work.

28 October 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed asprintf misuse that caused pmhelper to segfault when
	mounting a smbfs volume.

27 October 2002 W. Michael Petullo <mike@flyn.org>

	* A user can now use luserconf to mount volumes using other
	usernames.

	* Cleaned up code a bit.

	* Build error fix (thanks Michael Rhee).

26 October 2002 W. Michael Petullo <mike@flyn.org>

	* Added checks so luserconf can only configure commands and
	volumes.

	* Pmhelper now checks to see if a volume is already mounted
	before it tries to mount it.

	* Cleaned up some of the new readconfig code a bit.

	* Always returns PAM_SUCCESS again so login is not refused.

	* Fixed complaint about misc.o being used both with and without
	libtool (linked misc.c to miscso.c).

21 October 2002 W. Michael Petullo <mike@flyn.org>

	* Began to use dotconf to read configuration files.  This work
	ended up spanning several days, as expected.  Though this is
	a bit difficult, the old readconfig.c need to be scrapped --
	it was difficult to maintain and scrub for security flaws.
	The new code still needs work, but has a more well designed core.
	A little pain now will save more later.

20 October 2002 W. Michael Petullo <mike@flyn.org>

	* Applied some code cleanups from Bastian Kleineidam.

	* Moved mkhomedir code to pmhelper.c.  Now creates homedirs when
	wildcards are not used too.

	* Changed mkhome option to mkmountpoint.

19 October 2002 W. Michael Petullo <mike@flyn.org>

	* Added mention of mkehd to nasty-details_pam_mount.xml.

	* Added documentation to functions in pmhelper.c.

18 October 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed buffer issue in readconfig.c (thanks Miguel Freitas).

17 October 2002 W. Michael Petullo <mike@flyn.org>

	* All mount types now avoid using the command line to pass
	passwords.  Needs testing!

	* Now chowns homedir to owner if pam_mount has to create it.
	Make sure nsswitch is configured if using, for example, winbindd.

	* More code scrubbing.

	* (Following release 0.4.1) fixed a bug that causes filesystem
	keys to decrypt wrong, breaking encrypted home directory method
	three (an array not initialized to [0, ..., 0].

16 October 2002 W. Michael Petullo <mike@flyn.org>

	* Pam_mount not creates user's home directory if it doesn't exist.
	Useful if the user is authenticated using some wazoo method and
	does not really exist on the local machine.

	* (Following release 0.4.0) fixed some buffer sizes in pmhelper.c.

14 October 2002 W. Michael Petullo <mike@flyn.org>

	* Cleaned up log function.

	* Cleaned up misc.c.

	* Added some return value checks and errmsgs in pam_mount.c.

12 October 2002 W. Michael Petullo <mike@flyn.org>

	* EHD scripts now detect technique 1, 2, or 3 from pam_mount.conf.

	* Added mountehd script.

07 October 2002 W. Michael Petullo <mike@flyn.org>

	* Added a README_DEBIAN file with some Debian-related notes.

	* Pmhelper should now install suid.

	* Documentation change .*_firstpass to .*_first_pass.

	* Added mkehd script.
	
06 October 2002 W. Michael Petullo <mike@flyn.org>

	* Applied Pekka Aleksi Knuutila's patch:
		1.  Now fixed on Debian again.
		2.  Now does a chdir("/"), fixed umount in some cases.  KDM?
		3.  Environment instead of command line used to pass
		    password to smbmount.
	  Thanks, Pekka!

	* (Following release 0.3.9) Added nfs to legal volume types.
	Local actually has supported NFS, but allowing someone to specify
	nfs may cut down on confusion.	Local has meant "use /bin/mount"
	not "local filesystem."  Local may be a bad choice of words.

	* Added passwdehd script.

27 August 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed a typo in pam_mount.conf.

14 August 2002 W. Michael Petullo <mike@flyn.org>

	* Pmhelper now unmounts the mount point, not the volume.  If the
	mount point is not specified in pam_mount.conf, then it is read
	from fstab.  This is necessary to unmount SMB volumes like "home."

11 August 2002 W. Michael Petullo <mike@flyn.org>

	* Got rid of some compiler warnings.

	* Added some more error checking to openssl code.

	* In pam_mount.conf, if user is *, ~ will be expanded to user's
	home.

10 August 2002 W. Michael Petullo <mike@flyn.org>

	* Worked on documentation for encrypted filesystem keys.

	* (Following release 0.3.6) started using EVP_get_cipherbyname()
	-- should be real close to supporting all openssl-supported
	ciphers.

	* Added support for encrypted filesystem keys.

	* Pam_mount.spec now uses %config(noreplace) in install
	configuration.

03 August 2002 W. Michael Petullo <mike@flyn.org>

	* (Following Release 0.3.5) began using FCTK.

	* Began to work on supporting filesystems that have a different
	password than the user's login password.

03 August 2002 W. Michael Petullo <mike@flyn.org>

	* Lsof now works when logging out of consoles.

	* Changed module type to session only.	THIS REQUIRES CHANGES
	TO PAM CONFIGURATION FILES (ie: /etc/pam.d/*).

	* Pmhelper now understands the mount point may not be in
	/etc/fstab.  In this case, the path is provided by pam_mount.so.

02 August 2002 W. Michael Petullo <mike@flyn.org>

	* Reduced the output of lsof to only files related to ~.

01 August 2002 W. Michael Petullo <mike@flyn.org>

	* Made /usr/sbin/lsof configurable in /etc/security/pam_mount.

30 July 2002 W. Michael Petullo <mike@flyn.org>

	* Changed syslog priorities.

	* Now logs output of /usr/sbin/lsof when debugging is on.

30 July 2002 W. Michael Petullo <mike@flyn.org>

	* Ran indent on source files.

	* Got rid of pmhelper.c.orig and pmhelper.c.rej.

30 June 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed error that prevented encrypted volumes from working when
	debugging was off.

	* Updated CREDITS file.

27 June 2002 W. Michael Petullo <mike@flyn.org>

	* Fixed bug that caused segfault when unmounting with debugging
	on.

	* Location of config file is now /etc/security/pam_mount.conf
	by default.

	* UID of pmhelper process is now set to 0 since euid of 0 is
	not enough for using mount (makes u+s su work).

	* Mount point is now optional in pam_mount.conf for local mount
	type.  See pam_mount.conf example.  

	* Debug messages are now logged with syslog.

	* Cleaned up debug messages a bit.  Separated into log and
	debug messages.  Log messages are important and are printed even
	if debugging is off.

	* Got rid of some C++ style comments.

	* Applied Mukesh Agrawal's encryption patch.

17 December 2001 Elvis Pfützenreuter <epx@conectiva.com>

	* Removed broken test in pmhelper.c to see if monting directory
	is $HOME - now it will always wait for mount() to complete. If
	this poses problems, please notify (0.3.2).

29 November 2000 Elvis Pfützenreuter <epx@conectiva.com>

	* applied patch that waits mount to be completed if the mount
	point happens to be the user's home dir (see CREDITS) (0.3.1).

15 November 2000 Elvis Pfützenreuter <epx@conectiva.com>

	* applied patch that enables template volumes (see CREDITS) (0.3pre)

14 November 2000 Elvis Pfützenreuter <epx@conectiva.com>

	* pmhelper no longer stays in memory during the user session (0.2).

xx xxxx 2000 Elvis Pfützenreuter <epx@conectiva.com>
	
	* Several modifications in /etc/pam_mount.conf format (0.1).

xx xxxx 2000 Elvis Pfützenreuter <epx@conectiva.com>

	* First public version (0.01).
